{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Facebook from 'expo-auth-session/providers/facebook';\nimport { ResponseType } from 'expo-auth-session';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"../Button.js\";\nimport { BASE_API, FACEBOOK_OATH_CLIENT_ID } from '@env';\nWebBrowser.maybeCompleteAuthSession();\nexport default function FacebookSigninButton() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      result = _useState2[0],\n      setResult = _useState2[1];\n\n  var _Facebook$useAuthRequ = Facebook.useAuthRequest({\n    clientId: FACEBOOK_OATH_CLIENT_ID,\n    responseType: ResponseType.Code\n  }),\n      _Facebook$useAuthRequ2 = _slicedToArray(_Facebook$useAuthRequ, 3),\n      request = _Facebook$useAuthRequ2[0],\n      response = _Facebook$useAuthRequ2[1],\n      promptAsync = _Facebook$useAuthRequ2[2];\n\n  var _handlePressButtonAsync = function _handlePressButtonAsync() {\n    var result;\n    return _regeneratorRuntime.async(function _handlePressButtonAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(WebBrowser.openBrowserAsync(BASE_API + '/auth/facebook'));\n\n          case 2:\n            result = _context.sent;\n            setResult(result);\n            console.log(result);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  React.useEffect(function () {\n    if ((response == null ? void 0 : response.type) === 'success') {\n      var code = response.params.code;\n      console.log('this ran ');\n      console.log(code);\n    }\n  }, [response]);\n  return React.createElement(Button, {\n    style: styles.button,\n    disabled: !request,\n    title: \"Facebook\",\n    onPress: function onPress() {\n      _handlePressButtonAsync();\n    }\n  });\n}\nvar styles = StyleSheet.create({\n  button: {\n    backgroundColor: '#3b5998',\n    width: '40%',\n    paddingVertical: 11,\n    paddingHorizontal: 16\n  }\n});","map":{"version":3,"sources":["/home/telix/crypto-note/cryto-note/src/components/buttons/auth/FacebookSigninButton.js"],"names":["React","useState","useEffect","WebBrowser","Facebook","ResponseType","Button","BASE_API","FACEBOOK_OATH_CLIENT_ID","maybeCompleteAuthSession","FacebookSigninButton","result","setResult","useAuthRequest","clientId","responseType","Code","request","response","promptAsync","_handlePressButtonAsync","openBrowserAsync","console","log","type","code","params","styles","button","StyleSheet","create","backgroundColor","width","paddingVertical","paddingHorizontal"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,KAAKC,UAAZ,MAA4B,kBAA5B;AACA,OAAO,KAAKC,QAAZ,MAA0B,sCAA1B;AACA,SAASC,YAAT,QAA6B,mBAA7B;;AAEA,OAAOC,MAAP;AACA,SAASC,QAAT,EAAmBC,uBAAnB,QAAkD,MAAlD;AAEAL,UAAU,CAACM,wBAAX;AAEA,eAAe,SAASC,oBAAT,GAA+B;AAE1C,kBAA4BT,QAAQ,CAAC,IAAD,CAApC;AAAA;AAAA,MAAOU,MAAP;AAAA,MAAeC,SAAf;;AAEA,8BAAyCR,QAAQ,CAACS,cAAT,CAAwB;AAC7DC,IAAAA,QAAQ,EAAEN,uBADmD;AAE7DO,IAAAA,YAAY,EAAEV,YAAY,CAACW;AAFkC,GAAxB,CAAzC;AAAA;AAAA,MAAOC,OAAP;AAAA,MAAgBC,QAAhB;AAAA,MAA0BC,WAA1B;;AAKA,MAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACTjB,UAAU,CAACkB,gBAAX,CAA6Bd,QAAQ,GAAG,gBAAxC,CADS;;AAAA;AACxBI,YAAAA,MADwB;AAE5BC,YAAAA,SAAS,CAACD,MAAD,CAAT;AACAW,YAAAA,OAAO,CAACC,GAAR,CAAYZ,MAAZ;;AAH4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhC;;AAMAX,EAAAA,KAAK,CAACE,SAAN,CAAgB,YAAM;AAClB,QAAI,CAAAgB,QAAQ,QAAR,YAAAA,QAAQ,CAAEM,IAAV,MAAmB,SAAvB,EAAkC;AAC9B,UAAQC,IAAR,GAAiBP,QAAQ,CAACQ,MAA1B,CAAQD,IAAR;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYE,IAAZ;AACH;AACJ,GAND,EAMG,CAACP,QAAD,CANH;AAQA,SACI,oBAAC,MAAD;AACI,IAAA,KAAK,EAAES,MAAM,CAACC,MADlB;AAEI,IAAA,QAAQ,EAAE,CAACX,OAFf;AAGI,IAAA,KAAK,EAAC,UAHV;AAII,IAAA,OAAO,EAAE,mBAAM;AACXG,MAAAA,uBAAuB;AAE1B;AAPL,IADJ;AAWH;AAED,IAAMO,MAAM,GAAGE,UAAU,CAACC,MAAX,CAAkB;AAC7BF,EAAAA,MAAM,EAAE;AACJG,IAAAA,eAAe,EAAE,SADb;AAEJC,IAAAA,KAAK,EAAE,KAFH;AAGJC,IAAAA,eAAe,EAAE,EAHb;AAIJC,IAAAA,iBAAiB,EAAE;AAJf;AADqB,CAAlB,CAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Facebook from 'expo-auth-session/providers/facebook';\nimport { ResponseType } from 'expo-auth-session';\nimport { StyleSheet } from 'react-native';\nimport Button from '../Button.js';\nimport { BASE_API, FACEBOOK_OATH_CLIENT_ID } from '@env';\n\nWebBrowser.maybeCompleteAuthSession();\n\nexport default function FacebookSigninButton(){\n\n    const [result, setResult] = useState(null);\n\n    const [request, response, promptAsync] = Facebook.useAuthRequest({\n        clientId: FACEBOOK_OATH_CLIENT_ID,\n        responseType: ResponseType.Code,\n    });\n\n    const _handlePressButtonAsync = async () => {\n        let result = await WebBrowser.openBrowserAsync( BASE_API + '/auth/facebook');\n        setResult(result);\n        console.log(result);\n    };\n\n    React.useEffect(() => {\n        if (response?.type === 'success') {\n            const { code } = response.params;\n            console.log('this ran ')\n            console.log(code)\n        }\n    }, [response]);\n\n    return (\n        <Button\n            style={styles.button}\n            disabled={!request}\n            title=\"Facebook\"\n            onPress={() => { \n                _handlePressButtonAsync();\n                //promptAsync();\n            }}\n        />\n    );\n}\n\nconst styles = StyleSheet.create({\n    button: {\n        backgroundColor: '#3b5998', // facebook blue\n        width: '40%',\n        paddingVertical: 11,\n        paddingHorizontal: 16,\n    },\n});\n\n"]},"metadata":{},"sourceType":"module"}