{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React from'react';import PropTypes from'prop-types';import Animated from\"react-native-web/dist/exports/Animated\";import{Surface}from'@react-native-community/art';import AnimatedCircle from\"../animated/AnimatedCircle\";import{color}from\"../const\";var BubblesLoader=function(_React$PureComponent){_inherits(BubblesLoader,_React$PureComponent);var _super=_createSuper(BubblesLoader);function BubblesLoader(){var _this;_classCallCheck(this,BubblesLoader);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={opacities:[new Animated.Value(1),new Animated.Value(1),new Animated.Value(1),new Animated.Value(1),new Animated.Value(1),new Animated.Value(1),new Animated.Value(1),new Animated.Value(1)]};_this.eachDegree=360/_this.state.opacities.length;_this.timers=[];_this._animation=function(i){Animated.sequence([Animated.timing(_this.state.opacities[i],{toValue:0.2,duration:600,useNativeDriver:false}),Animated.timing(_this.state.opacities[i],{toValue:1,duration:600,useNativeDriver:false})]).start(function(){!_this.unmounted&&_this._animation(i);});};return _this;}_createClass(BubblesLoader,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.state.opacities.forEach(function(item,i){var id=setTimeout(function(){_this2._animation(i);},i*150);_this2.timers.push(id);});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.unmounted=true;this.timers.forEach(function(id){clearTimeout(id);});}},{key:\"render\",value:function render(){var _this3=this;var _this$props=this.props,size=_this$props.size,dotRadius=_this$props.dotRadius,color=_this$props.color;var opacities=this.state.opacities;return React.createElement(Surface,{width:size+dotRadius,height:size+dotRadius},opacities.map(function(item,i){var radian=i*_this3.eachDegree*Math.PI/180;var x=Math.round(size/2*Math.cos(radian))+size/2+dotRadius/2;var y=Math.round(size/2*Math.sin(radian))+size/2+dotRadius/2;return React.createElement(AnimatedCircle,{key:i,radius:dotRadius,fill:color,x:x,y:y,scale:opacities[i]});}));}}]);return BubblesLoader;}(React.PureComponent);BubblesLoader.propTypes={color:PropTypes.string,dotRadius:PropTypes.number,size:PropTypes.number};BubblesLoader.defaultProps={color:color,dotRadius:10,size:40};export{BubblesLoader as default};","map":{"version":3,"sources":["/home/telix/crypto-notes/cryto-notes/node_modules/react-native-indicator/lib/loader/BubblesLoader.js"],"names":["React","PropTypes","Surface","AnimatedCircle","color","BubblesLoader","state","opacities","Animated","Value","eachDegree","length","timers","_animation","i","sequence","timing","toValue","duration","useNativeDriver","start","unmounted","forEach","item","id","setTimeout","push","clearTimeout","props","size","dotRadius","map","radian","Math","PI","x","round","cos","y","sin","PureComponent","propTypes","string","number","defaultProps"],"mappings":"qgCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,C,6DAEA,OAASC,OAAT,KAAwB,6BAAxB,CACA,MAAOC,CAAAA,cAAP,kCACA,OAASC,KAAT,gB,GAEqBC,CAAAA,a,8VAanBC,K,CAAQ,CACNC,SAAS,CAAE,CACT,GAAIC,CAAAA,QAAQ,CAACC,KAAb,CAAmB,CAAnB,CADS,CAET,GAAID,CAAAA,QAAQ,CAACC,KAAb,CAAmB,CAAnB,CAFS,CAGT,GAAID,CAAAA,QAAQ,CAACC,KAAb,CAAmB,CAAnB,CAHS,CAIT,GAAID,CAAAA,QAAQ,CAACC,KAAb,CAAmB,CAAnB,CAJS,CAKT,GAAID,CAAAA,QAAQ,CAACC,KAAb,CAAmB,CAAnB,CALS,CAMT,GAAID,CAAAA,QAAQ,CAACC,KAAb,CAAmB,CAAnB,CANS,CAOT,GAAID,CAAAA,QAAQ,CAACC,KAAb,CAAmB,CAAnB,CAPS,CAQT,GAAID,CAAAA,QAAQ,CAACC,KAAb,CAAmB,CAAnB,CARS,CADL,C,OAYRC,U,CAAa,IAAM,MAAKJ,KAAL,CAAWC,SAAX,CAAqBI,M,OACxCC,M,CAAS,E,OAkBTC,U,CAAa,SAACC,CAAD,CAAO,CAClBN,QAAQ,CAACO,QAAT,CAAkB,CAChBP,QAAQ,CAACQ,MAAT,CAAgB,MAAKV,KAAL,CAAWC,SAAX,CAAqBO,CAArB,CAAhB,CAAyC,CACvCG,OAAO,CAAE,GAD8B,CAEvCC,QAAQ,CAAE,GAF6B,CAGvCC,eAAe,CAAE,KAHsB,CAAzC,CADgB,CAMhBX,QAAQ,CAACQ,MAAT,CAAgB,MAAKV,KAAL,CAAWC,SAAX,CAAqBO,CAArB,CAAhB,CAAyC,CACvCG,OAAO,CAAE,CAD8B,CAEvCC,QAAQ,CAAE,GAF6B,CAGvCC,eAAe,CAAE,KAHsB,CAAzC,CANgB,CAAlB,EAWGC,KAXH,CAWS,UAAM,CACb,CAAC,MAAKC,SAAN,EAAmB,MAAKR,UAAL,CAAgBC,CAAhB,CAAnB,CACD,CAbD,EAcD,C,0EA/BD,4BAAoB,iBAClB,KAAKR,KAAL,CAAWC,SAAX,CAAqBe,OAArB,CAA6B,SAACC,IAAD,CAAOT,CAAP,CAAa,CACxC,GAAMU,CAAAA,EAAE,CAAGC,UAAU,CAAC,UAAM,CAC1B,MAAI,CAACZ,UAAL,CAAgBC,CAAhB,EACD,CAFoB,CAElBA,CAAC,CAAG,GAFc,CAArB,CAGA,MAAI,CAACF,MAAL,CAAYc,IAAZ,CAAiBF,EAAjB,EACD,CALD,EAMD,C,oCAED,+BAAuB,CACrB,KAAKH,SAAL,CAAiB,IAAjB,CACA,KAAKT,MAAL,CAAYU,OAAZ,CAAoB,SAACE,EAAD,CAAQ,CAC1BG,YAAY,CAACH,EAAD,CAAZ,CACD,CAFD,EAGD,C,sBAmBD,iBAAS,iBACP,gBAAmC,KAAKI,KAAxC,CAAQC,IAAR,aAAQA,IAAR,CAAcC,SAAd,aAAcA,SAAd,CAAyB1B,KAAzB,aAAyBA,KAAzB,CACA,GAAQG,CAAAA,SAAR,CAAsB,KAAKD,KAA3B,CAAQC,SAAR,CACA,MACE,qBAAC,OAAD,EAAS,KAAK,CAAEsB,IAAI,CAAGC,SAAvB,CAAkC,MAAM,CAAED,IAAI,CAAGC,SAAjD,EACGvB,SAAS,CAACwB,GAAV,CAAc,SAACR,IAAD,CAAOT,CAAP,CAAa,CAC1B,GAAIkB,CAAAA,MAAM,CAAIlB,CAAC,CAAG,MAAI,CAACJ,UAAT,CAAsBuB,IAAI,CAACC,EAA5B,CAAkC,GAA/C,CACA,GAAIC,CAAAA,CAAC,CAAGF,IAAI,CAACG,KAAL,CAAYP,IAAI,CAAG,CAAR,CAAaI,IAAI,CAACI,GAAL,CAASL,MAAT,CAAxB,EAA4CH,IAAI,CAAG,CAAnD,CAAuDC,SAAS,CAAG,CAA3E,CACA,GAAIQ,CAAAA,CAAC,CAAGL,IAAI,CAACG,KAAL,CAAYP,IAAI,CAAG,CAAR,CAAaI,IAAI,CAACM,GAAL,CAASP,MAAT,CAAxB,EAA4CH,IAAI,CAAG,CAAnD,CAAuDC,SAAS,CAAG,CAA3E,CACA,MACE,qBAAC,cAAD,EACE,GAAG,CAAEhB,CADP,CAEE,MAAM,CAAEgB,SAFV,CAGE,IAAI,CAAE1B,KAHR,CAIE,CAAC,CAAE+B,CAJL,CAKE,CAAC,CAAEG,CALL,CAME,KAAK,CAAE/B,SAAS,CAACO,CAAD,CANlB,EADF,CAUD,CAdA,CADH,CADF,CAmBD,C,2BAnFwCd,KAAK,CAACwC,a,EAA5BnC,a,CACZoC,S,CAAY,CACjBrC,KAAK,CAAEH,SAAS,CAACyC,MADA,CAEjBZ,SAAS,CAAE7B,SAAS,CAAC0C,MAFJ,CAGjBd,IAAI,CAAE5B,SAAS,CAAC0C,MAHC,C,CADAtC,a,CAOZuC,Y,CAAe,CACpBxC,KAAK,CAALA,KADoB,CAEpB0B,SAAS,CAAE,EAFS,CAGpBD,IAAI,CAAE,EAHc,C,QAPHxB,a","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Animated } from 'react-native';\nimport { Surface } from '@react-native-community/art';\nimport AnimatedCircle from '../animated/AnimatedCircle';\nimport { color } from '../const';\n\nexport default class BubblesLoader extends React.PureComponent {\n  static propTypes = {\n    color: PropTypes.string,\n    dotRadius: PropTypes.number,\n    size: PropTypes.number,\n  };\n\n  static defaultProps = {\n    color,\n    dotRadius: 10,\n    size: 40,\n  };\n\n  state = {\n    opacities: [\n      new Animated.Value(1),\n      new Animated.Value(1),\n      new Animated.Value(1),\n      new Animated.Value(1),\n      new Animated.Value(1),\n      new Animated.Value(1),\n      new Animated.Value(1),\n      new Animated.Value(1),\n    ],\n  };\n  eachDegree = 360 / this.state.opacities.length;\n  timers = [];\n\n  componentDidMount() {\n    this.state.opacities.forEach((item, i) => {\n      const id = setTimeout(() => {\n        this._animation(i);\n      }, i * 150);\n      this.timers.push(id);\n    });\n  }\n\n  componentWillUnmount() {\n    this.unmounted = true;\n    this.timers.forEach((id) => {\n      clearTimeout(id);\n    });\n  }\n\n  _animation = (i) => {\n    Animated.sequence([\n      Animated.timing(this.state.opacities[i], {\n        toValue: 0.2,\n        duration: 600,\n        useNativeDriver: false,\n      }),\n      Animated.timing(this.state.opacities[i], {\n        toValue: 1,\n        duration: 600,\n        useNativeDriver: false,\n      }),\n    ]).start(() => {\n      !this.unmounted && this._animation(i);\n    });\n  };\n\n  render() {\n    const { size, dotRadius, color } = this.props;\n    const { opacities } = this.state;\n    return (\n      <Surface width={size + dotRadius} height={size + dotRadius}>\n        {opacities.map((item, i) => {\n          let radian = (i * this.eachDegree * Math.PI) / 180;\n          let x = Math.round((size / 2) * Math.cos(radian)) + size / 2 + dotRadius / 2;\n          let y = Math.round((size / 2) * Math.sin(radian)) + size / 2 + dotRadius / 2;\n          return (\n            <AnimatedCircle\n              key={i}\n              radius={dotRadius}\n              fill={color}\n              x={x}\n              y={y}\n              scale={opacities[i]}\n            />\n          );\n        })}\n      </Surface>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}