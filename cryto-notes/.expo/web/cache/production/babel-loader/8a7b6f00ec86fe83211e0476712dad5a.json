{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React from'react';import PropTypes from'prop-types';import Animated from\"react-native-web/dist/exports/Animated\";import{Surface,Shape}from'@react-native-community/art';import AnimatedCircle from\"../animated/AnimatedCircle\";import{color}from\"../const\";var EatBeanLoader=function(_React$PureComponent){_inherits(EatBeanLoader,_React$PureComponent);var _super=_createSuper(EatBeanLoader);function EatBeanLoader(){var _this;_classCallCheck(this,EatBeanLoader);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={dotsY:[new Animated.Value(_this.props.size*2.2),new Animated.Value(_this.props.size*2.2),new Animated.Value(_this.props.size*2.2),new Animated.Value(_this.props.size*2.2)]};_this.timers=[];_this._animation=function(i){Animated.timing(_this.state.dotsY[i],{toValue:_this.props.size/2,duration:1200,useNativeDriver:false}).start(function(){if(!_this.unmounted){_this.state.dotsY[i].setValue(_this.props.size*2.2);_this._animation(i);}});};return _this;}_createClass(EatBeanLoader,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.state.dotsY.forEach(function(item,i){var id=setTimeout(function(){_this2._animation(i);},i*300);_this2.timers.push(id);});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.unmounted=true;this.timers.forEach(function(id){clearTimeout(id);});}},{key:\"render\",value:function render(){var _this$props=this.props,size=_this$props.size,color=_this$props.color;var sinValue=Math.sqrt(2)/2;var x=Math.floor(size/2*sinValue)+size/2;var startY=Math.floor(size/2*sinValue)+size/2;var endY=size/2-Math.floor(size/2*sinValue);var d=\"M\"+x+\" \"+startY+\" A \"+size/2+\" \"+size/2+\", 0, 1, 1, \"+x+\" \"+endY+\" L \"+size/2+\" \"+size/2+\" Z\";return React.createElement(Surface,{width:size*2,height:size},React.createElement(Shape,{d:d,fill:color,x:size/5}),this.state.dotsY.map(function(item,i){return React.createElement(AnimatedCircle,{key:i,radius:size/5,fill:color,x:item,y:size/2});}));}}]);return EatBeanLoader;}(React.PureComponent);EatBeanLoader.propTypes={size:PropTypes.number,color:PropTypes.string};EatBeanLoader.defaultProps={size:30,color:color};export{EatBeanLoader as default};","map":{"version":3,"sources":["/home/telix/crypto-notes/cryto-notes/node_modules/react-native-indicator/lib/loader/EatBeanLoader.js"],"names":["React","PropTypes","Surface","Shape","AnimatedCircle","color","EatBeanLoader","state","dotsY","Animated","Value","props","size","timers","_animation","i","timing","toValue","duration","useNativeDriver","start","unmounted","setValue","forEach","item","id","setTimeout","push","clearTimeout","sinValue","Math","sqrt","x","floor","startY","endY","d","map","PureComponent","propTypes","number","string","defaultProps"],"mappings":"qgCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,C,6DAEA,OAASC,OAAT,CAAkBC,KAAlB,KAA+B,6BAA/B,CACA,MAAOC,CAAAA,cAAP,kCACA,OAASC,KAAT,gB,GAEqBC,CAAAA,a,8VAWnBC,K,CAAQ,CACNC,KAAK,CAAE,CACL,GAAIC,CAAAA,QAAQ,CAACC,KAAb,CAAmB,MAAKC,KAAL,CAAWC,IAAX,CAAkB,GAArC,CADK,CAEL,GAAIH,CAAAA,QAAQ,CAACC,KAAb,CAAmB,MAAKC,KAAL,CAAWC,IAAX,CAAkB,GAArC,CAFK,CAGL,GAAIH,CAAAA,QAAQ,CAACC,KAAb,CAAmB,MAAKC,KAAL,CAAWC,IAAX,CAAkB,GAArC,CAHK,CAIL,GAAIH,CAAAA,QAAQ,CAACC,KAAb,CAAmB,MAAKC,KAAL,CAAWC,IAAX,CAAkB,GAArC,CAJK,CADD,C,OAQRC,M,CAAS,E,OAkBTC,U,CAAa,SAACC,CAAD,CAAO,CAClBN,QAAQ,CAACO,MAAT,CAAgB,MAAKT,KAAL,CAAWC,KAAX,CAAiBO,CAAjB,CAAhB,CAAqC,CACnCE,OAAO,CAAE,MAAKN,KAAL,CAAWC,IAAX,CAAkB,CADQ,CAEnCM,QAAQ,CAAE,IAFyB,CAGnCC,eAAe,CAAE,KAHkB,CAArC,EAIGC,KAJH,CAIS,UAAM,CACb,GAAI,CAAC,MAAKC,SAAV,CAAqB,CACnB,MAAKd,KAAL,CAAWC,KAAX,CAAiBO,CAAjB,EAAoBO,QAApB,CAA6B,MAAKX,KAAL,CAAWC,IAAX,CAAkB,GAA/C,EACA,MAAKE,UAAL,CAAgBC,CAAhB,EACD,CACF,CATD,EAUD,C,0EA3BD,4BAAoB,iBAClB,KAAKR,KAAL,CAAWC,KAAX,CAAiBe,OAAjB,CAAyB,SAACC,IAAD,CAAOT,CAAP,CAAa,CACpC,GAAMU,CAAAA,EAAE,CAAGC,UAAU,CAAC,UAAM,CAC1B,MAAI,CAACZ,UAAL,CAAgBC,CAAhB,EACD,CAFoB,CAElBA,CAAC,CAAG,GAFc,CAArB,CAGA,MAAI,CAACF,MAAL,CAAYc,IAAZ,CAAiBF,EAAjB,EACD,CALD,EAMD,C,oCAED,+BAAuB,CACrB,KAAKJ,SAAL,CAAiB,IAAjB,CACA,KAAKR,MAAL,CAAYU,OAAZ,CAAoB,SAACE,EAAD,CAAQ,CAC1BG,YAAY,CAACH,EAAD,CAAZ,CACD,CAFD,EAGD,C,sBAeD,iBAAS,CACP,gBAAwB,KAAKd,KAA7B,CAAQC,IAAR,aAAQA,IAAR,CAAcP,KAAd,aAAcA,KAAd,CAEA,GAAMwB,CAAAA,QAAQ,CAAGC,IAAI,CAACC,IAAL,CAAU,CAAV,EAAe,CAAhC,CACA,GAAMC,CAAAA,CAAC,CAAGF,IAAI,CAACG,KAAL,CAAYrB,IAAI,CAAG,CAAR,CAAaiB,QAAxB,EAAoCjB,IAAI,CAAG,CAArD,CACA,GAAMsB,CAAAA,MAAM,CAAGJ,IAAI,CAACG,KAAL,CAAYrB,IAAI,CAAG,CAAR,CAAaiB,QAAxB,EAAoCjB,IAAI,CAAG,CAA1D,CACA,GAAMuB,CAAAA,IAAI,CAAGvB,IAAI,CAAG,CAAP,CAAWkB,IAAI,CAACG,KAAL,CAAYrB,IAAI,CAAG,CAAR,CAAaiB,QAAxB,CAAxB,CACA,GAAMO,CAAAA,CAAC,KAAOJ,CAAP,KAAYE,MAAZ,OAAwBtB,IAAI,CAAG,CAA/B,KAAoCA,IAAI,CAAG,CAA3C,eAA0DoB,CAA1D,KAA+DG,IAA/D,OAAyEvB,IAAI,CAClF,CADK,KACAA,IAAI,CAAG,CADP,KAAP,CAEA,MACE,qBAAC,OAAD,EAAS,KAAK,CAAEA,IAAI,CAAG,CAAvB,CAA0B,MAAM,CAAEA,IAAlC,EACE,oBAAC,KAAD,EAAO,CAAC,CAAEwB,CAAV,CAAa,IAAI,CAAE/B,KAAnB,CAA0B,CAAC,CAAEO,IAAI,CAAG,CAApC,EADF,CAEG,KAAKL,KAAL,CAAWC,KAAX,CAAiB6B,GAAjB,CAAqB,SAACb,IAAD,CAAOT,CAAP,QACpB,qBAAC,cAAD,EAAgB,GAAG,CAAEA,CAArB,CAAwB,MAAM,CAAEH,IAAI,CAAG,CAAvC,CAA0C,IAAI,CAAEP,KAAhD,CAAuD,CAAC,CAAEmB,IAA1D,CAAgE,CAAC,CAAEZ,IAAI,CAAG,CAA1E,EADoB,EAArB,CAFH,CADF,CAQD,C,2BAnEwCZ,KAAK,CAACsC,a,EAA5BhC,a,CACZiC,S,CAAY,CACjB3B,IAAI,CAAEX,SAAS,CAACuC,MADC,CAEjBnC,KAAK,CAAEJ,SAAS,CAACwC,MAFA,C,CADAnC,a,CAMZoC,Y,CAAe,CACpB9B,IAAI,CAAE,EADc,CAEpBP,KAAK,CAALA,KAFoB,C,QANHC,a","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Animated } from 'react-native';\nimport { Surface, Shape } from '@react-native-community/art';\nimport AnimatedCircle from '../animated/AnimatedCircle';\nimport { color } from '../const';\n\nexport default class EatBeanLoader extends React.PureComponent {\n  static propTypes = {\n    size: PropTypes.number,\n    color: PropTypes.string,\n  };\n\n  static defaultProps = {\n    size: 30,\n    color,\n  };\n\n  state = {\n    dotsY: [\n      new Animated.Value(this.props.size * 2.2),\n      new Animated.Value(this.props.size * 2.2),\n      new Animated.Value(this.props.size * 2.2),\n      new Animated.Value(this.props.size * 2.2),\n    ],\n  };\n  timers = [];\n\n  componentDidMount() {\n    this.state.dotsY.forEach((item, i) => {\n      const id = setTimeout(() => {\n        this._animation(i);\n      }, i * 300);\n      this.timers.push(id);\n    });\n  }\n\n  componentWillUnmount() {\n    this.unmounted = true;\n    this.timers.forEach((id) => {\n      clearTimeout(id);\n    });\n  }\n\n  _animation = (i) => {\n    Animated.timing(this.state.dotsY[i], {\n      toValue: this.props.size / 2,\n      duration: 1200,\n      useNativeDriver: false,\n    }).start(() => {\n      if (!this.unmounted) {\n        this.state.dotsY[i].setValue(this.props.size * 2.2);\n        this._animation(i);\n      }\n    });\n  };\n\n  render() {\n    const { size, color } = this.props;\n\n    const sinValue = Math.sqrt(2) / 2;\n    const x = Math.floor((size / 2) * sinValue) + size / 2;\n    const startY = Math.floor((size / 2) * sinValue) + size / 2;\n    const endY = size / 2 - Math.floor((size / 2) * sinValue);\n    const d = `M${x} ${startY} A ${size / 2} ${size / 2}, 0, 1, 1, ${x} ${endY} L ${size /\n      2} ${size / 2} Z`;\n    return (\n      <Surface width={size * 2} height={size}>\n        <Shape d={d} fill={color} x={size / 5} />\n        {this.state.dotsY.map((item, i) => (\n          <AnimatedCircle key={i} radius={size / 5} fill={color} x={item} y={size / 2} />\n        ))}\n      </Surface>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}